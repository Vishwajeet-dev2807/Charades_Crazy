<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Charades â€“ Number Guessing Game</title>

<script src="https://game-cdn.poki.com/scripts/v2/poki-sdk.js"></script>

<style>
:root{
  --primary:#2563eb;
  --success:#16a34a;
  --warning:#facc15;
  --danger:#dc2626;
  --card:#ffffff;
  --muted:#6b7280;
}

/* ===== BASE ===== */
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,sans-serif}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(270deg,#eef2ff,#f8fafc,#eef2ff);
  background-size:400% 400%;
  animation:bgMove 12s ease infinite;
}

/* ===== CARD ===== */
.card{
  background:var(--card);
  width:100%;
  max-width:520px;
  padding:30px;
  border-radius:18px;
  box-shadow:0 25px 50px rgba(0,0,0,.1);
  text-align:center;
  animation:slideUp .7s ease;
  transition:box-shadow .3s, transform .3s;
}

.card.glow{
  box-shadow:0 0 40px rgba(22,163,74,.5),0 25px 50px rgba(0,0,0,.15);
  transform:scale(1.02);
}

/* ===== HEADER ===== */
.header{display:flex;justify-content:center;gap:12px}
.header img{width:52px;animation:float 3s ease-in-out infinite}
h1{margin:0;color:var(--primary);font-size:34px}
.subtitle{margin:10px 0 20px;color:var(--muted)}

/* ===== STATS ===== */
.stats{display:flex;justify-content:space-between;font-size:14px}
.badge{background:#eef2ff;padding:6px 12px;border-radius:999px;font-weight:700}
#score.pop{animation:scorePop .4s ease}
#time.warning{animation:timePulse .6s infinite}

/* ===== INPUT ===== */
select,input{
  width:100%;padding:12px;font-size:18px;border-radius:12px;
  border:2px solid #e5e7eb;text-align:center;margin-bottom:12px
}

input.shake{animation:shake .3s}

/* ===== RESULT ===== */
.result{min-height:28px;font-weight:700}
.result.success{color:var(--success);animation:successPop .4s}
.result.fail{color:var(--danger);animation:shake .4s}
.streak{font-size:13px;color:#f97316;font-weight:600}

/* ===== BUTTONS ===== */
.buttons{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:18px}

button{
  padding:12px;border:none;border-radius:12px;
  font-size:15px;font-weight:600;cursor:pointer;
  transition:transform .15s,box-shadow .15s;
  position:relative;overflow:hidden;
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 20px rgba(0,0,0,.15);
}

button:active{transform:scale(.96)}

.primary{background:var(--primary);color:white}
.gray{background:#6b7280;color:white}
.warning{background:var(--warning)}
.danger{background:var(--danger);color:white}

/* ===== OVERLAYS ===== */
.pause-overlay,#loading{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  font-size:28px;font-weight:800;color:white;z-index:10
}
.pause-overlay{background:rgba(0,0,0,.6);display:none}
#loading{background:#020617;animation:pulse 1.2s infinite}

/* ===== ANIMATIONS ===== */
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-6px)}50%{transform:translateX(6px)}100%{transform:translateX(0)}}
@keyframes successPop{0%{transform:scale(.9)}60%{transform:scale(1.15)}100%{transform:scale(1)}}
@keyframes scorePop{0%{transform:scale(1)}50%{transform:scale(1.3)}100%{transform:scale(1)}}
@keyframes timePulse{0%{color:#dc2626}50%{color:#fff}100%{color:#dc2626}}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:1}}
@keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
</style>
</head>

<body>

<div id="loading">Loading Charadesâ€¦</div>
<div class="pause-overlay" id="pauseOverlay">Paused</div>

<div class="card" id="card">
  <div class="header">
    <img src="Charades_Logo.png">
    <h1>Charades</h1>
  </div>

  <div class="subtitle">Smart Number Guessing Game</div>

  <div class="stats">
    <div class="badge">Score: <span id="score">0</span></div>
    <div class="badge">Best: <span id="best">0</span></div>
    <div class="badge">Time: <span id="time">60</span>s</div>
  </div>

  <select id="difficulty">
    <option value="easy">Easy (1â€“50)</option>
    <option value="medium" selected>Medium (1â€“100)</option>
    <option value="hard">Hard (1â€“200)</option>
  </select>

  <input id="guess" type="number" placeholder="Enter your guess">

  <div id="result" class="result">Guess the number</div>
  <div id="streak" class="streak"></div>

  <div class="buttons">
    <button class="primary" onclick="check()">Check</button>
    <button class="warning" onclick="hint()">Hint</button>
    <button class="gray" onclick="restart()">Restart</button>
    <button class="danger" onclick="pause()">Pause</button>
  </div>
</div>

<script>
/* ===== SDK SAFE ===== */
const PokiSafe={available:()=>typeof PokiSDK!=="undefined",init:()=>PokiSafe.available()?PokiSDK.init():Promise.resolve(),loadingFinished:()=>PokiSafe.available()&&PokiSDK.gameLoadingFinished(),gameplayStart:()=>PokiSafe.available()&&PokiSDK.gameplayStart(),gameplayStop:()=>PokiSafe.available()&&PokiSDK.gameplayStop(),adBreak:()=>PokiSafe.available()&&PokiSDK.commercialBreak()};

let target,range=100,score=0,time=60,combo=0,paused=false;
let best=localStorage.getItem("charadesBest")||0;
let timer=null,gameplayActive=false;

const scoreEl=document.getElementById("score");
const timeEl=document.getElementById("time");
const bestEl=document.getElementById("best");
const result=document.getElementById("result");
const streak=document.getElementById("streak");
const input=document.getElementById("guess");
const overlay=document.getElementById("pauseOverlay");
const card=document.getElementById("card");
const loading=document.getElementById("loading");

bestEl.textContent=best;

requestAnimationFrame(()=>{
  PokiSafe.init().finally(()=>{
    PokiSafe.loadingFinished();
    loading.style.display="none";
    startGame();
  });
});

function startGame(){
  if(!gameplayActive){PokiSafe.gameplayStart();gameplayActive=true}
  setup();
}

function setup(){
  clearInterval(timer);
  paused=false;
  overlay.style.display="none";

  const d=document.getElementById("difficulty").value;
  range=d==="easy"?50:d==="hard"?200:100;
  target=Math.floor(Math.random()*range)+1;
  time=60;combo=0;

  timeEl.textContent=time;
  timeEl.classList.remove("warning");
  result.textContent=`Guess between 1 and ${range}`;
  streak.textContent="";
  input.value="";

  timer=setInterval(()=>{
    if(!paused){
      time--;
      timeEl.textContent=time;
      if(time<=10) timeEl.classList.add("warning");
      if(time<=0) gameOver();
    }
  },1000);
}

function check(){
  if(paused) return;
  const g=parseInt(input.value);
  if(isNaN(g)||g<1||g>range) return;

  if(g===target){
    combo++;
    const pts=10+combo*5+time;
    score+=pts;
    scoreEl.textContent=score;
    scoreEl.classList.add("pop");
    card.classList.add("glow");
    setTimeout(()=>{scoreEl.classList.remove("pop");card.classList.remove("glow")},300);
    result.textContent=`Correct! +${pts}`;
    result.className="result success";
    streak.textContent=`ðŸ”¥ Streak x${combo}`;
    setup();
  }else{
    combo=0;
    input.classList.add("shake");
    setTimeout(()=>input.classList.remove("shake"),300);
    result.textContent=g>target?"Too High":"Too Low";
    result.className="result fail";
    streak.textContent="";
  }
  input.value="";
}

function hint(){
  if(paused) return;
  score=Math.max(0,score-10);
  scoreEl.textContent=score;
  result.textContent=`Hint: ${Math.max(1,target-10)} â€“ ${Math.min(range,target+10)}`;
}

function restart(){
  clearInterval(timer);
  score=0;
  scoreEl.textContent=0;
  if(gameplayActive){PokiSafe.gameplayStop();gameplayActive=false}
  PokiSafe.adBreak();
  startGame();
}

function pause(){
  paused=!paused;
  overlay.style.display=paused?"flex":"none";
}

function gameOver(){
  clearInterval(timer);
  if(score>best){best=score;localStorage.setItem("charadesBest",best);bestEl.textContent=best}
  gameplayActive=false;
  PokiSafe.gameplayStop();
  restart();
}
/* ===== KEYBOARD SHORTCUTS ===== */
document.addEventListener("keydown", (e) => {

  if (e.target.tagName === "INPUT" && e.key === "Enter") {
    check();
    return;
  }

  switch (e.key.toLowerCase()) {

    case "enter":
      check();
      break;

    case "h":
      hint();
      break;

    case "r":
      restart();
      break;

    case "p":
    case "escape":
      pause();
      break;

    case "1":
      document.getElementById("difficulty").value = "easy";
      setup();
      break;

    case "2":
      document.getElementById("difficulty").value = "medium";
      setup();
      break;

    case "3":
      document.getElementById("difficulty").value = "hard";
      setup();
      break;

    case "arrowup":
      input.value = (parseInt(input.value || 0) + 1);
      break;

    case "arrowdown":
      input.value = Math.max(1, (parseInt(input.value || 1) - 1));
      break;
  }
});

</script>

</body>
</html>
